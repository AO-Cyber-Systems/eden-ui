---
title: Theming System
description: How Eden UI's theming system works under the hood
---

import { Aside, Steps } from '@astrojs/starlight/components';

# Theming System

Eden UI's theming is built on three pillars: **Tailwind CSS**, **tailwind-variants**, and **CSS custom properties**.

## Architecture Overview

```
┌─────────────────────────────────────────────────────────┐
│                    tailwind.config.js                    │
│         (Color palette, spacing, typography)            │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│                   tailwind-variants                      │
│            (Type-safe variant composition)              │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│                  Component theme.ts                      │
│              (Variant definitions per component)        │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────┐
│                  Svelte Component                        │
│               (Runtime class composition)               │
└─────────────────────────────────────────────────────────┘
```

## tailwind-variants Deep Dive

### Basic Pattern

Every component theme file follows this structure:

```typescript title="src/lib/component/theme.ts"
import { tv, type VariantProps } from 'tailwind-variants';

// Export type for component props
export type ComponentVariants = VariantProps<typeof componentTheme>;

export const componentTheme = tv({
  // Base classes applied to all variants
  base: 'inline-flex items-center',

  // Slot-based styling for complex components
  slots: {
    root: 'relative',
    label: 'text-sm font-medium',
    input: 'border rounded-lg',
  },

  // Variant definitions
  variants: {
    color: {
      primary: 'bg-primary-500 text-white',
      secondary: 'bg-gray-200 text-gray-900',
    },
    size: {
      sm: 'text-sm px-3 py-1',
      md: 'text-base px-4 py-2',
      lg: 'text-lg px-5 py-3',
    },
    disabled: {
      true: 'opacity-50 cursor-not-allowed',
    }
  },

  // Compound variants for complex combinations
  compoundVariants: [
    {
      color: 'primary',
      disabled: true,
      class: 'bg-primary-300',
    }
  ],

  // Default values
  defaultVariants: {
    color: 'primary',
    size: 'md',
  }
});
```

### Slot-Based Theming

For components with multiple elements:

```typescript
export const input = tv({
  slots: {
    base: 'relative',
    label: 'block text-sm font-medium mb-1',
    field: 'w-full border rounded-lg px-3 py-2',
    helper: 'mt-1 text-xs',
    error: 'mt-1 text-xs text-red-500',
  },
  variants: {
    color: {
      default: {
        field: 'border-gray-300 focus:border-primary-500',
        label: 'text-gray-700',
      },
      error: {
        field: 'border-red-500 focus:border-red-600',
        label: 'text-red-700',
      }
    }
  }
});
```

Usage in component:

```svelte
<script>
  import { input } from './theme';

  let { color = 'default' } = $props();

  const styles = $derived(input({ color }));
</script>

<div class={styles.base()}>
  <label class={styles.label()}>Email</label>
  <input class={styles.field()} type="email" />
</div>
```

## Dark Mode Implementation

Eden UI uses Tailwind's `class` strategy for dark mode:

<Steps>

1. **HTML Setup**

   Add `dark` class to `<html>` for dark mode:

   ```html
   <html class="dark">
   ```

2. **Theme Definition**

   Use dark: variants in theme files:

   ```typescript
   export const card = tv({
     base: 'bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100',
   });
   ```

3. **Toggle Implementation**

   ```svelte
   <script>
     let isDark = $state(false);

     $effect(() => {
       document.documentElement.classList.toggle('dark', isDark);
     });
   </script>
   ```

</Steps>

## Extending Themes

### Adding Custom Colors

1. Extend Tailwind config:

```js title="tailwind.config.js"
export default {
  theme: {
    extend: {
      colors: {
        brand: {
          50: '#f0f9ff',
          500: '#0ea5e9',
          600: '#0284c7',
        }
      }
    }
  }
}
```

2. Extend component theme:

```typescript
import { button } from 'eden-ui/theme';
import { tv } from 'tailwind-variants';

export const customButton = tv({
  extend: button,
  variants: {
    color: {
      brand: 'bg-brand-500 hover:bg-brand-600 text-white',
    }
  }
});
```

### Overriding Default Styles

```typescript
import { card } from 'eden-ui/theme';
import { tv } from 'tailwind-variants';

// Create a modified card theme
export const customCard = tv({
  extend: card,
  base: 'rounded-xl', // Override base rounded
  variants: {
    shadow: {
      none: 'shadow-none',
      sm: 'shadow-sm',
      md: 'shadow-md',
      lg: 'shadow-lg',
    }
  }
});
```

## Performance Considerations

<Aside type="note">
  tailwind-variants compiles variant combinations at build time when possible, resulting in minimal runtime overhead.
</Aside>

### Best Practices

1. **Define variants in theme files** - Keep styling logic separate from component logic
2. **Use $derived for style computation** - Ensures styles only recompute when props change
3. **Avoid inline style objects** - Let Tailwind's JIT handle class generation
4. **Leverage compound variants** - More maintainable than conditional class logic

```svelte
// Good - computed once when props change
const classes = $derived(button({ color, size }));

// Avoid - creates new object each render
<button style={{ color: colorMap[color] }}>
```
