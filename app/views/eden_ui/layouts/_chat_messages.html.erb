<%# locals: (current_conversation: nil, content: nil) %>

<div class="flex flex-1 flex-col">
  <% if current_conversation.present? %>
    <div class="flex items-center justify-between border-b border-gray-200 px-4 py-3 dark:border-gray-700">
      <div class="flex items-center">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
          <%= current_conversation.respond_to?(:title) ? current_conversation.title : "Conversation" %>
        </h3>
        <% if current_conversation.respond_to?(:participants_count) %>
          <span class="ms-2 text-sm text-gray-500 dark:text-gray-400">
            <%= current_conversation.participants_count %> participants
          </span>
        <% end %>
      </div>
      <div class="flex items-center space-x-2">
        <button type="button" class="rounded-lg p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
          <span class="sr-only">Conversation settings</span>
          <svg class="h-5 w-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 4 15">
            <path d="M3.5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6.041a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 5.959a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"/>
          </svg>
        </button>
      </div>
    </div>
  <% end %>

  <div class="flex-1 overflow-y-auto p-4">
    <% if current_conversation.present? %>
      <%= content %>
    <% else %>
      <div class="flex h-full flex-col items-center justify-center">
        <svg class="mb-4 h-16 w-16 text-gray-300 dark:text-gray-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
          <path d="M18 0H2a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h2v4a1 1 0 0 0 1.707.707L10.414 13H18a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5 8H7a1 1 0 0 1 0-2h6a1 1 0 1 1 0 2Zm2-3H5a1 1 0 0 1 0-2h10a1 1 0 1 1 0 2Z"/>
        </svg>
        <p class="text-lg font-medium text-gray-500 dark:text-gray-400">Select a conversation to start chatting</p>
        <p class="mt-1 text-sm text-gray-400 dark:text-gray-500">Or create a new one to get started</p>
      </div>
    <% end %>
  </div>
</div>
