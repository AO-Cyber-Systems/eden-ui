<%
  title ||= "Contact Us"
  subtitle ||= nil
  form_url ||= "#"
  form_method ||= :post
  show_info ||= true
  email ||= nil
  phone ||= nil
  address ||= nil
  html_options ||= {}
  content ||= nil

  classes = ["bg-white dark:bg-zinc-900", html_options.delete(:class)].compact_blank.join(" ")
%>

<section class="<%= classes %>" <%= tag.attributes(html_options) %>>
  <div class="py-8 px-4 mx-auto max-w-screen-xl lg:py-16">
    <div class="grid gap-8 lg:grid-cols-2">
      <%# Left column: title, subtitle, contact info %>
      <div>
        <% if title %>
          <h2 class="mb-4 text-3xl font-extrabold tracking-tight text-zinc-900 dark:text-white md:text-4xl"><%= title %></h2>
        <% end %>
        <% if subtitle %>
          <p class="mb-8 font-light text-zinc-500 dark:text-zinc-400 lg:text-xl"><%= subtitle %></p>
        <% end %>

        <% if show_info && (email || phone || address) %>
          <div class="space-y-6">
            <% if email %>
              <div class="flex items-start space-x-4">
                <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900 shrink-0">
                  <%= eden_icon("envelope", size: :md, class: "text-primary-600 dark:text-primary-300") %>
                </div>
                <div>
                  <p class="text-sm font-medium text-zinc-500 dark:text-zinc-400">Email</p>
                  <a href="mailto:<%= email %>" class="text-lg font-semibold text-zinc-900 dark:text-white hover:text-primary-600"><%= email %></a>
                </div>
              </div>
            <% end %>

            <% if phone %>
              <div class="flex items-start space-x-4">
                <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900 shrink-0">
                  <svg class="w-5 h-5 text-primary-600 dark:text-primary-300" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"/></svg>
                </div>
                <div>
                  <p class="text-sm font-medium text-zinc-500 dark:text-zinc-400">Phone</p>
                  <a href="tel:<%= phone %>" class="text-lg font-semibold text-zinc-900 dark:text-white hover:text-primary-600"><%= phone %></a>
                </div>
              </div>
            <% end %>

            <% if address %>
              <div class="flex items-start space-x-4">
                <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900 shrink-0">
                  <svg class="w-5 h-5 text-primary-600 dark:text-primary-300" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"/></svg>
                </div>
                <div>
                  <p class="text-sm font-medium text-zinc-500 dark:text-zinc-400">Address</p>
                  <p class="text-lg font-semibold text-zinc-900 dark:text-white"><%= address %></p>
                </div>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>

      <%# Right column: form %>
      <div class="p-6 bg-zinc-50 rounded-lg shadow dark:bg-zinc-800 lg:p-8">
        <% if content %>
          <%= content %>
        <% else %>
          <form action="<%= form_url %>" method="<%= form_method %>" class="space-y-6">
            <div class="grid gap-6 sm:grid-cols-2">
              <div>
                <%= eden_label(text: "Your name", for_id: "contact-name") %>
                <%= eden_input(type: :text, name: "name", id: "contact-name", placeholder: "John Doe", required: true) %>
              </div>
              <div>
                <%= eden_label(text: "Your email", for_id: "contact-email") %>
                <%= eden_input(type: :email, name: "email", id: "contact-email", placeholder: "name@example.com", required: true) %>
              </div>
            </div>
            <div>
              <%= eden_label(text: "Subject", for_id: "contact-subject") %>
              <%= eden_input(type: :text, name: "subject", id: "contact-subject", placeholder: "How can we help?") %>
            </div>
            <div>
              <%= eden_label(text: "Your message", for_id: "contact-message") %>
              <%= eden_textarea(name: "message", id: "contact-message", rows: 6, placeholder: "Leave a comment...") %>
            </div>
            <%= eden_button(variant: :primary, type: :submit) { "Send message" } %>
          </form>
        <% end %>
      </div>
    </div>
  </div>
</section>
