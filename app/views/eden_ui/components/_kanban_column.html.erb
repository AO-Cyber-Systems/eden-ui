<%
  title ||= ""
  count ||= nil
  color ||= :default
  html_options ||= {}
  content ||= nil

  color_border = case color.to_sym
  when :primary then "border-t-blue-500"
  when :success then "border-t-green-500"
  when :warning then "border-t-yellow-500"
  when :danger then "border-t-red-500"
  else "border-t-gray-400"
  end

  color_dot = case color.to_sym
  when :primary then "bg-blue-500"
  when :success then "bg-green-500"
  when :warning then "bg-yellow-500"
  when :danger then "bg-red-500"
  else "bg-gray-400"
  end

  classes = [
    "w-80 flex-shrink-0 rounded-lg bg-gray-50 dark:bg-gray-800 p-4 border-t-4",
    color_border,
    html_options.delete(:class)
  ].compact_blank.join(" ")
%>

<div class="<%= classes %>" <%= tag.attributes(html_options) %>>
  <div class="flex items-center justify-between mb-4">
    <div class="flex items-center gap-2">
      <span class="w-2.5 h-2.5 rounded-full <%= color_dot %>"></span>
      <h3 class="text-sm font-semibold text-gray-900 dark:text-white"><%= title %></h3>
    </div>
    <% if count %>
      <span class="inline-flex items-center justify-center w-6 h-6 text-xs font-medium text-gray-600 bg-gray-200 rounded-full dark:bg-gray-700 dark:text-gray-300"><%= count %></span>
    <% end %>
  </div>

  <div class="min-h-[200px] space-y-3">
    <%= content %>
  </div>

  <button type="button" class="mt-3 flex w-full items-center justify-center rounded-lg border-2 border-dashed border-gray-300 py-2.5 text-sm font-medium text-gray-500 hover:border-gray-400 hover:text-gray-700 dark:border-gray-600 dark:text-gray-400 dark:hover:border-gray-500 dark:hover:text-gray-300">
    <svg class="w-4 h-4 me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v12m6-6H6"/></svg>
    Add item
  </button>
</div>
