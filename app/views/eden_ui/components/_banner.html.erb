<%
  variant ||= :default
  position ||= :top
  dismissible ||= true
  html_options ||= {}
  content ||= nil

  position_class = case position.to_sym
  when :bottom then "fixed bottom-0 start-0 z-50 w-full"
  else "fixed top-0 start-0 z-50 w-full"
  end

  variant_classes = case variant.to_sym
  when :info
    "bg-blue-50 border-blue-300 dark:bg-blue-900 dark:border-blue-800"
  when :success
    "bg-green-50 border-green-300 dark:bg-green-900 dark:border-green-800"
  when :warning
    "bg-yellow-50 border-yellow-300 dark:bg-yellow-900 dark:border-yellow-800"
  when :danger
    "bg-red-50 border-red-300 dark:bg-red-900 dark:border-red-800"
  else
    "bg-gray-50 border-gray-300 dark:bg-gray-700 dark:border-gray-600"
  end

  border_pos = position.to_sym == :bottom ? "border-t" : "border-b"
  classes = ["flex justify-between items-center p-4 #{border_pos}", position_class, variant_classes, html_options.delete(:class)].compact_blank.join(" ")
%>

<div class="<%= classes %>" role="banner" <%= tag.attributes(html_options) %>>
  <div class="flex items-center mx-auto">
    <%= content %>
  </div>
  <% if dismissible %>
    <button type="button" class="flex-shrink-0 inline-flex justify-center w-7 h-7 items-center text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm dark:hover:bg-gray-600 dark:hover:text-white" data-dismiss>
      <svg class="w-3 h-3" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/></svg>
    </button>
  <% end %>
</div>
