<%= styleguide_block_example(
  title: "Advanced Table with Sorting",
  description: "Full-featured data table with sortable columns, checkboxes, and inline actions",
  source: 'eden_table(hoverable: true) do
  # thead with checkboxes and sortable columns
  eden_checkbox
  eden_icon("chevron-down", size: :xs)
  # More columns
end'
) do %>
  <section class="bg-zinc-50 dark:bg-zinc-900 p-3 sm:p-5 antialiased">
    <div class="mx-auto max-w-screen-xl px-4 lg:px-12">
      <div class="bg-white dark:bg-zinc-800 relative shadow-md sm:rounded-lg overflow-hidden">
        <div class="overflow-x-auto">
          <%= eden_table(hoverable: true) do %>
            <thead>
              <tr>
                <th scope="col" class="p-4">
                  <%= eden_checkbox %>
                </th>
                <th scope="col" class="px-4 py-3">
                  <span class="flex items-center cursor-pointer">
                    Product name
                    <%= eden_icon("chevron-down", size: :xs) %>
                  </span>
                </th>
                <th scope="col" class="px-4 py-3">
                  <span class="flex items-center cursor-pointer">
                    Category
                    <%= eden_icon("chevron-down", size: :xs) %>
                  </span>
                </th>
                <th scope="col" class="px-4 py-3">
                  <span class="flex items-center cursor-pointer">
                    Stock
                    <%= eden_icon("chevron-down", size: :xs) %>
                  </span>
                </th>
                <th scope="col" class="px-4 py-3">
                  <span class="flex items-center cursor-pointer">
                    Revenue
                    <%= eden_icon("chevron-down", size: :xs) %>
                  </span>
                </th>
                <th scope="col" class="px-4 py-3">Status</th>
                <th scope="col" class="px-4 py-3">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% [
                ["Apple iMac 27\"", "Desktop", "95", "$1.2M", "active"],
                ["Apple MacBook Pro 17\"", "Laptop", "34", "$890K", "active"],
                ["iPhone 14 Pro", "Phone", "0", "$2.1M", "out_of_stock"],
                ["iPad Air 5", "Tablet", "287", "$456K", "active"],
                ["Xbox Series X", "Gaming", "12", "$320K", "low_stock"],
              ].each do |name, category, stock, revenue, status| %>
                <tr class="border-b dark:border-zinc-700">
                  <td class="p-4 w-4">
                    <%= eden_checkbox %>
                  </td>
                  <th scope="row" class="px-4 py-3 font-medium text-zinc-900 whitespace-nowrap dark:text-white">
                    <%= name %>
                  </th>
                  <td class="px-4 py-3"><%= category %></td>
                  <td class="px-4 py-3"><%= stock %></td>
                  <td class="px-4 py-3"><%= revenue %></td>
                  <td class="px-4 py-3">
                    <% case status %>
                    <% when "active" %>
                      <%= eden_badge(text: "Active", variant: :success, size: :sm) %>
                    <% when "out_of_stock" %>
                      <%= eden_badge(text: "Out of stock", variant: :danger, size: :sm) %>
                    <% when "low_stock" %>
                      <%= eden_badge(text: "Low stock", variant: :warning, size: :sm) %>
                    <% end %>
                  </td>
                  <td class="px-4 py-3">
                    <div class="flex items-center gap-1">
                      <%= eden_button(variant: :ghost, size: :xs) { eden_icon("pencil", size: :sm) } %>
                      <%= eden_button(variant: :ghost, size: :xs) { eden_icon("eye", size: :sm) } %>
                      <%= eden_button(variant: :ghost, size: :xs) { eden_icon("trash", size: :sm) } %>
                    </div>
                  </td>
                </tr>
              <% end %>
            </tbody>
          <% end %>
        </div>
      </div>
    </div>
  </section>
<% end %>

<%= styleguide_block_example(
  title: "Table with Expandable Rows",
  description: "Data table with expandable detail rows for additional information",
  source: 'eden_table(hoverable: true) do
  # tbody
  # Summary row
  # Detail row (hidden by default)
end'
) do %>
  <section class="bg-zinc-50 dark:bg-zinc-900 p-3 sm:p-5 antialiased">
    <div class="mx-auto max-w-screen-xl px-4 lg:px-12">
      <div class="bg-white dark:bg-zinc-800 relative shadow-md sm:rounded-lg overflow-hidden">
        <div class="overflow-x-auto">
          <%= eden_table(hoverable: true) do %>
            <thead>
              <tr>
                <th scope="col" class="px-4 py-3 w-4"></th>
                <th scope="col" class="px-4 py-3">Order ID</th>
                <th scope="col" class="px-4 py-3">Date</th>
                <th scope="col" class="px-4 py-3">Customer</th>
                <th scope="col" class="px-4 py-3">Total</th>
                <th scope="col" class="px-4 py-3">Status</th>
              </tr>
            </thead>
            <tbody>
              <% [
                ["#ORD-001", "Jan 13, 2024", "Bonnie Green", "$2,999", "shipped"],
                ["#ORD-002", "Jan 12, 2024", "Thomas Lean", "$499", "processing"],
                ["#ORD-003", "Jan 11, 2024", "Leslie Livingston", "$1,299", "delivered"],
              ].each_with_index do |(order_id, date, customer, total, status), i| %>
                <tr class="border-b dark:border-zinc-700">
                  <td class="px-4 py-3">
                    <button class="text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200">
                      <%= eden_icon("chevron-down", size: :sm) %>
                    </button>
                  </td>
                  <th scope="row" class="px-4 py-3 font-medium text-zinc-900 dark:text-white"><%= order_id %></th>
                  <td class="px-4 py-3"><%= date %></td>
                  <td class="px-4 py-3">
                    <div class="flex items-center gap-2">
                      <%= eden_avatar(initials: customer.split(" ").map(&:first).join, size: :sm) %>
                      <span><%= customer %></span>
                    </div>
                  </td>
                  <td class="px-4 py-3 font-semibold"><%= total %></td>
                  <td class="px-4 py-3">
                    <% case status %>
                    <% when "shipped" %>
                      <%= eden_badge(text: "Shipped", variant: :primary, size: :sm) %>
                    <% when "processing" %>
                      <%= eden_badge(text: "Processing", variant: :warning, size: :sm) %>
                    <% when "delivered" %>
                      <%= eden_badge(text: "Delivered", variant: :success, size: :sm) %>
                    <% end %>
                  </td>
                </tr>
                <% if i == 0 %>
                <tr class="bg-zinc-50 dark:bg-zinc-900 border-b dark:border-zinc-700">
                  <td colspan="6" class="px-4 py-3">
                    <div class="grid grid-cols-3 gap-4 text-sm">
                      <div>
                        <p class="text-zinc-500 dark:text-zinc-400">Shipping Address</p>
                        <p class="text-zinc-900 dark:text-white">123 Main St, Anytown, CA 94105</p>
                      </div>
                      <div>
                        <p class="text-zinc-500 dark:text-zinc-400">Items</p>
                        <p class="text-zinc-900 dark:text-white">Apple iMac 27" (x1), USB-C Cable (x2)</p>
                      </div>
                      <div>
                        <p class="text-zinc-500 dark:text-zinc-400">Payment Method</p>
                        <p class="text-zinc-900 dark:text-white">Visa ending in 4242</p>
                      </div>
                    </div>
                  </td>
                </tr>
                <% end %>
              <% end %>
            </tbody>
          <% end %>
        </div>
      </div>
    </div>
  </section>
<% end %>
