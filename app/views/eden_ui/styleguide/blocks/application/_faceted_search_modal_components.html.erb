<%= styleguide_block_example(
  title: "Faceted Search Modal",
  description: "Full-screen modal with advanced search filters and live results",
  source: 'eden_modal(id: "search-modal", size: :xl) do
  eden_search_input(placeholder: "Search products...")
  # Filter sidebar with category, brand, price
  # Results grid with product cards
end'
) do %>
  <div class="relative p-4 bg-zinc-100 dark:bg-zinc-900">
    <div class="relative bg-white rounded-lg shadow dark:bg-zinc-800 max-w-4xl mx-auto">
      <%# Modal header with search %>
      <div class="flex items-center justify-between p-4 border-b border-zinc-200 dark:border-zinc-700">
        <div class="flex-1 mr-4">
          <%= eden_search_input(placeholder: "Search products, categories, brands...") %>
        </div>
        <button class="text-zinc-400 hover:bg-zinc-200 hover:text-zinc-900 rounded-lg text-sm p-1.5 dark:hover:bg-zinc-600 dark:hover:text-white">
          <%= eden_icon("x-mark", size: :sm) %>
        </button>
      </div>

      <div class="flex min-h-[400px]">
        <%# Filters sidebar %>
        <div class="w-56 border-r border-zinc-200 dark:border-zinc-700 p-4 space-y-4">
          <%# Category %>
          <div>
            <h6 class="text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2">Category</h6>
            <div class="space-y-1.5">
              <% [
                ["All Categories", true],
                ["Electronics", false],
                ["Clothing", false],
                ["Home & Garden", false],
              ].each do |label, checked| %>
                <%= eden_radio(label: label, checked: checked) %>
              <% end %>
            </div>
          </div>
          <%# Brand %>
          <div>
            <h6 class="text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2">Brand</h6>
            <div class="space-y-1.5">
              <% ["Apple", "Samsung", "Microsoft", "Sony"].each do |brand| %>
                <%= eden_checkbox(label: brand) %>
              <% end %>
            </div>
          </div>
          <%# Price %>
          <div>
            <h6 class="text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2">Price</h6>
            <div class="flex items-center gap-2">
              <%= eden_input(type: :number, placeholder: "Min", size: :sm) %>
              <span class="text-zinc-400 text-xs">-</span>
              <%= eden_input(type: :number, placeholder: "Max", size: :sm) %>
            </div>
          </div>
          <%# Status %>
          <div>
            <h6 class="text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2">Status</h6>
            <div class="space-y-1.5">
              <%= eden_checkbox(label: "In Stock", checked: true) %>
              <%= eden_checkbox(label: "On Sale") %>
              <%= eden_checkbox(label: "New Arrival") %>
            </div>
          </div>
        </div>

        <%# Results area %>
        <div class="flex-1 p-4">
          <div class="flex items-center justify-between mb-4">
            <span class="text-sm text-zinc-500 dark:text-zinc-400">Showing <span class="font-semibold text-zinc-900 dark:text-white">24</span> results</span>
            <div class="flex items-center gap-2">
              <span class="text-sm text-zinc-500 dark:text-zinc-400">Sort by:</span>
              <%= eden_select(options: ["Relevance", "Price: Low to High", "Price: High to Low", "Newest"], size: :sm) %>
            </div>
          </div>

          <%# Result items %>
          <div class="space-y-3">
            <% [
              ["Apple iMac 27\"", "Electronics / Desktop", "$1,499", "active"],
              ["Apple MacBook Pro", "Electronics / Laptop", "$2,999", "active"],
              ["Samsung Galaxy S24", "Electronics / Phone", "$899", "sale"],
            ].each do |name, category, price, status| %>
              <div class="flex items-center gap-3 p-3 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-700 cursor-pointer">
                <div class="w-12 h-12 bg-zinc-100 dark:bg-zinc-700 rounded-lg flex-shrink-0 flex items-center justify-center">
                  <span class="text-zinc-400 text-xs">IMG</span>
                </div>
                <div class="flex-1 min-w-0">
                  <p class="text-sm font-medium text-zinc-900 dark:text-white truncate"><%= name %></p>
                  <p class="text-xs text-zinc-500 dark:text-zinc-400"><%= category %></p>
                </div>
                <div class="text-right">
                  <p class="text-sm font-semibold text-zinc-900 dark:text-white"><%= price %></p>
                  <% if status == "sale" %>
                    <%= eden_badge(text: "Sale", variant: :danger, size: :sm) %>
                  <% else %>
                    <%= eden_badge(text: "In Stock", variant: :success, size: :sm) %>
                  <% end %>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>

      <%# Footer %>
      <div class="flex items-center justify-between p-4 border-t border-zinc-200 dark:border-zinc-700">
        <button class="text-sm text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200">Reset all filters</button>
        <div class="flex items-center gap-2">
          <%= eden_button(variant: :ghost) { "Cancel" } %>
          <%= eden_button(variant: :primary) { "Apply filters" } %>
        </div>
      </div>
    </div>
  </div>
<% end %>
